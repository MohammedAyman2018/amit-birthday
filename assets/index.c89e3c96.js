import{o as te,c as ne,a as ie}from"./vendor.f1bea45f.js";import*as t from"https://cdn.skypack.dev/three@0.127.0";import*as c from"https://cdn.skypack.dev/cannon-es@0.17.0";import*as re from"https://cdn.skypack.dev/dat.gui@0.7.7";const ae=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))L(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&L(m)}).observe(document,{childList:!0,subtree:!0});function y(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function L(n){if(n.ep)return;n.ep=!0;const o=y(n);fetch(n.href,o)}};ae();const ce=ne('<canvas class="webgl"></canvas><div class="page"><div style="color:#f6e7d8;">I WISH YOU</div><div style="color:#f68989;">HAPPY BIRTHDAY</div><div style="color:#874356;">AMIT KUKADIA</div><div style="color:#c65d7b;">LONG LIFE MATE!</div></div>',2),se={setup(P){return te(()=>{const e={view_size:30,camera_pos_x:5,camera_pos_y:5,camera_pos_z:10,gravity_x:0,gravity_y:-9.81,gravity_z:0,margin:6,force:2,scene_background_color:2040107,ambient_light_color:13421772,fore_light_color:16777215,fore_light_pos_x:5,fore_light_pos_y:5,fore_light_pos_z:20,back_light_color:16777215,back_light_pos_x:-5,back_light_pos_y:-5,back_light_pos_z:-10,contact_material_friction:.001},y={x:0,y:0},L=document.querySelector("canvas.webgl"),n=innerWidth/innerHeight,o=1,m=document.querySelectorAll(".page div"),B=m.length*(e.margin*o)*.5,S=new t.WebGLRenderer({canvas:L,antialias:!0});S.setSize(innerWidth,innerHeight);const l=new t.Scene;l.background=new t.Color(e.scene_background_color);const k=new t.Object3D;l.add(k);const i=e.view_size/2,R=-1,q=1e3;let b,w,v,x;innerWidth>innerHeight?(b=-i*n,w=i*n,v=i,x=-i):(b=-i,w=i,v=i/n,x=-i/n);const d=new t.OrthographicCamera(b,w,v,x,R,q);d.position.set(e.camera_pos_x,e.camera_pos_y,e.camera_pos_z),d.lookAt(l.position),l.add(d);const I=new t.AmbientLight(e.ambient_light_color);l.add(I);const z=new t.DirectionalLight(e.fore_light_color,.5);z.position.set(e.fore_light_pos_x,e.fore_light_pos_y,e.fore_light_pos_z),l.add(z);const C=new t.DirectionalLight(e.back_light_color,1);C.position.set(e.back_light_pos_x,e.back_light_pos_y,e.back_light_pos_z),l.add(C);const G=new t.Raycaster,V=function(){return G.setFromCamera(y,d),G.intersectObjects(l.children,!0)},U=new t.FontLoader,Y="https://rawcdn.githack.com/AlainBarrios/Fonts/358f48fc26f39af54da0243953780ea23786698f/Droid Sans_Regular.json",p=new c.World;p.gravity.set(e.gravity_x,e.gravity_y,e.gravity_z);const K=function(){const r=innerWidth/innerHeight;innerWidth>innerHeight?(b=-i*r,w=i*r,v=i,x=-i):(b=-i,w=i,v=i/r,x=-i/r),d.left=b,d.right=w,d.top=v,d.bottom=x,d.updateProjectionMatrix(),S.setSize(innerWidth,innerHeight)};window.addEventListener("resize",K,!1);const X=function(){const r=V();for(let _=0;_<r.length;_++){const h=r[0],{object:f,face:s}=h;if(!f.isMesh)return;const u=new c.Vec3().copy(s.normal).scale(-e.force);k.children.forEach(O=>{O.children.forEach(M=>{const{body:A}=M;M===f&&A.applyLocalImpulse(u,new c.Vec3)})})}};window.addEventListener("click",X,!1);const J=function(r){y.x=r.clientX/innerWidth*2-1,y.y=-(r.clientY/innerHeight)*2+1;const _=V();S.domElement.style.cursor=_.length>0?"pointer":"auto"};window.addEventListener("mousemove",J,!1);const W=new c.Material,D=new c.Material,N=new c.ContactMaterial(W,D,{friction:e.contact_material_friction});p.addContactMaterial(N);const Q=function(r){m.forEach((_,h)=>{const f=_.textContent,s=new t.Object3D;s.letterOffset=0;const u=new t.BoxGeometry(34*o,.2*o,6*o);u.computeBoundingBox(),u.size=u.boundingBox.getSize(new t.Vector3);const O=new t.MeshPhongMaterial({color:4145483}),M=new t.Mesh(u,O);M.position.y=h*(e.margin*o)-B,k.add(M);const A=new c.Body({mass:0,shape:new c.Box(new c.Vec3().copy(u.size).scale(.5)),position:new c.Vec3(0,h*(e.margin*o)-B,0),material:W});p.addBody(A),f.split("").forEach((E,$)=>{const H=new t.TextBufferGeometry(E,{font:r,size:2*o,height:.2*o,curveSegments:24,bevelEnabled:!0,bevelThickness:.6*o,bevelSize:.2*o,bevelOffset:0,bevelSegments:10});H.computeBoundingBox(),H.computeBoundingSphere();const ee=new t.MeshStandardMaterial({color:_.style.color,roughness:.5,metalness:.5}),g=new t.Mesh(H,ee);g.size=g.geometry.boundingBox.getSize(new t.Vector3),s.add(g),s.letterOffset+=g.size.x+.5*o;const oe=new c.Box(new c.Vec3().copy(g.size).scale(.5));g.body=new c.Body({mass:.25,position:new c.Vec3(s.letterOffset,(m.length-h-1)*(e.margin*o)-B+3*o,0),material:D});const{center:T}=g.geometry.boundingSphere;g.body.addShape(oe,new c.Vec3(T.x,T.y,T.z)),p.addBody(g.body)}),s.children.forEach((E,$)=>{E.body.position.x-=E.size.x+s.letterOffset*.5}),k.add(s)})};U.load(Y,Q);const Z=new t.Clock;let F=0;const j=()=>{const r=Z.getElapsedTime(),_=r-F;F=r,k.children.forEach(h=>{for(let f=0;f<h.children.length;f++){const s=h.children[f];s.position.copy(s.body.position),s.quaternion.copy(s.body.quaternion)}}),p.step(1/60,_,3),S.render(l,d),window.requestAnimationFrame(j)};j();const a=new re.GUI({closed:!0,width:300});a.add(e,"gravity_x").min(-10).max(10).step(.01).onChange(()=>{p.gravity.x=e.gravity_x}),a.add(e,"gravity_y").min(-10).max(10).step(.01).onChange(()=>{p.gravity.y=e.gravity_y}),a.add(e,"gravity_z").min(-10).max(10).step(.01).onChange(()=>{p.gravity.z=e.gravity_z}),a.addColor(e,"fore_light_color").onChange(()=>{z.color=new t.Color(e.fore_light_color)}),a.add(e,"fore_light_pos_x").min(0).max(20).step(1).onChange(()=>{z.position.x=e.fore_light_pos_x}),a.add(e,"fore_light_pos_y").min(0).max(20).step(1).onChange(()=>{z.position.y=e.fore_light_pos_y}),a.add(e,"fore_light_pos_z").min(0).max(20).step(1).onChange(()=>{z.position.z=e.fore_light_pos_z}),a.addColor(e,"back_light_color").onChange(()=>{C.color=new t.Color(e.back_light_color)}),a.add(e,"back_light_pos_x").min(-20).max(0).step(1).onChange(()=>{C.position.x=e.back_light_pos_x}),a.add(e,"back_light_pos_y").min(-20).max(0).step(1).onChange(()=>{C.position.y=e.back_light_pos_y}),a.add(e,"back_light_pos_z").min(-20).max(0).step(1).onChange(()=>{C.position.z=e.back_light_pos_z}),a.addColor(e,"ambient_light_color").onChange(()=>{I.color=new t.Color(e.ambient_light_color)}),a.addColor(e,"scene_background_color").onChange(()=>{l.background=new t.Color(e.scene_background_color)}),a.add(e,"force").min(0).max(20).step(1).onChange(()=>{}),a.add(e,"contact_material_friction").min(.001).max(1).step(.001).onChange(()=>{N.friction=e.contact_material_friction})}),(e,y)=>ce}};ie(se).mount("#app");
